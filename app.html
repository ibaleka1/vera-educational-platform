<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VERA Explorer - Nervous System Regulation</title>
    <link rel="stylesheet" href="css/vera.css">
    <link rel="stylesheet" href="css/app.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="app-body">
    <!-- Neural Particle Background -->
    <div class="neural-background">
        <canvas id="neuralCanvas"></canvas>
    </div>

    <!-- Presentation Demo Controls -->
    <div id="demoControls" class="demo-controls">
        <div class="demo-header">
            <h3>VERA Presentation Demo</h3>
            <div class="device-indicator" id="deviceIndicator">Desktop</div>
        </div>
        
        <div class="demo-sections">
            <button onclick="presentationDemo.showOverview()" class="demo-btn">Platform Overview</button>
            <button onclick="presentationDemo.showBreathing()" class="demo-btn">Breathing</button>
            <button onclick="presentationDemo.showGrounding()" class="demo-btn">Grounding</button>
            <button onclick="presentationDemo.showJournal()" class="demo-btn">Journal</button>
            <button onclick="presentationDemo.showChat()" class="demo-btn">AI Chat</button>
            <button onclick="presentationDemo.showDashboard()" class="demo-btn">Analytics</button>
            <button onclick="presentationDemo.showPricing()" class="demo-btn">Pricing</button>
        </div>
        
        <div class="demo-actions">
            <button onclick="presentationDemo.simulateUserJourney()" class="demo-action-btn">User Journey</button>
            <button onclick="presentationDemo.highlightFeatures()" class="demo-action-btn">Highlight Features</button>
            <button onclick="presentationDemo.toggleDemoMode()" class="demo-toggle-btn" id="demoToggle">Demo Mode: ON</button>
        </div>
    </div>

    <!-- Main App Container -->
    <div class="app-container">
        <!-- Side Navigation Panel -->
        <aside class="side-panel" id="sidePanel">
            <div class="panel-header">
                <div class="vera-logo">
                    <div class="logo-pulse"></div>
                    <span>VERA Explorer</span>
                </div>
                <div class="user-greeting" id="userGreeting">
                    Welcome back, Explorer!
                </div>
                <div class="user-tier-info">
                    <div class="tier-indicator" id="tierIndicator">Explorer</div>
                    <div class="chat-limit-display" id="chatLimitDisplay">0/10</div>
                </div>
            </div>

            <nav class="panel-nav">
                <div class="nav-section">
                    <h3>Overview</h3>
                    <ul class="nav-list">
                        <li><a href="#dashboard" class="nav-item active" data-section="dashboard" onclick="VERACore.showSection('dashboard'); createNeuralIcon('dashboard', this)">
                            <div class="nav-neural" data-icon-type="dashboard"></div>
                            <span>Dashboard</span>
                        </a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>Regulation Library</h3>
                    <ul class="nav-list">
                        <li><a href="#breathing" class="nav-item" data-section="breathing" data-tier-feature="breathing" onclick="VERACore.showSection('breathing'); createNeuralIcon('breathing', this); setNeuralCoherence()">
                            <div class="nav-neural" data-icon-type="breathing"></div>
                            <span>Breathing Exercises</span>
                        </a></li>
                        <li><a href="#grounding" class="nav-item" data-section="grounding" data-tier-feature="grounding" onclick="VERACore.showSection('grounding'); createNeuralIcon('grounding', this); setNeuralRegulation()">
                            <div class="nav-neural" data-icon-type="grounding"></div>
                            <span>Grounding Techniques</span>
                        </a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>Your Journey</h3>
                    <ul class="nav-list">
                        <li><a href="#journal" class="nav-item" data-section="journal" onclick="VERACore.showSection('journal'); createNeuralIcon('journal', this)">
                            <div class="nav-neural" data-icon-type="journal"></div>
                            <span>Nervous System Journal</span>
                        </a></li>
                        <li><a href="#chat" class="nav-item" data-section="chat" onclick="VERACore.showSection('chat'); createNeuralIcon('chat', this)">
                            <div class="nav-neural" data-icon-type="chat"></div>
                            <span>Chat with VERA</span>
                            <div class="chat-counter" id="chatCounter">7/10</div>
                        </a></li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3>Your Account</h3>
                    <ul class="nav-list">
                        <li><a href="#progress" class="nav-item" data-section="progress">
                            <div class="nav-neural"></div>
                            <span>Progress Tracking</span>
                        </a></li>
                        <li><a href="#settings" class="nav-item" data-section="settings">
                            <div class="nav-neural"></div>
                            <span>Settings</span>
                        </a></li>
                    </ul>
                </div>
            </nav>

            <!-- Trial Status -->
            <div class="trial-status" id="trialStatus">
                <div class="trial-info">
                    <span class="trial-text">Free Trial</span>
                    <span class="trial-days" id="trialDays">5 days left</span>
                </div>
                <button class="upgrade-btn" onclick="showUpgradeModal()">Upgrade to Explorer</button>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <div class="content-header">
                <button class="menu-toggle" id="menuToggle">
                    <div class="nav-neural menu-neural"></div>
                </button>
                <h1 class="content-title" id="contentTitle">How are you feeling in your body today?</h1>
            </div>

            <div class="content-sections">
                <!-- Dashboard Section (Default) -->
                <section id="dashboard-section" class="content-section active">
                    <div class="welcome-container">
                        <div class="welcome-message">
                            <h2>Welcome back, <span id="userName">Explorer</span>!</h2>
                            <p>"How are you feeling in your body today?"</p>
                        </div>
                        
                        <div class="body-check-input">
                            <div class="input-neural-bg"></div>
                            <textarea 
                                id="bodyCheckInput" 
                                placeholder="Share what's happening in your body right now..."
                                maxlength="500"
                            ></textarea>
                            <button class="neural-submit-btn" onclick="submitBodyCheck()">
                                <div class="submit-neural"></div>
                                <span>Share</span>
                            </button>
                        </div>

                        <div class="quick-regulation">
                            <h3>Quick Regulation</h3>
                            <div class="quick-options">
                                <button class="quick-option" onclick="VERACore.showSection('breathing')">
                                    <div class="option-neural pulse-neural"></div>
                                    <span>5-Minute Breathing</span>
                                </button>
                                <button class="quick-option" onclick="VERACore.showSection('grounding')">
                                    <div class="option-neural wave-neural"></div>
                                    <span>Instant Grounding</span>
                                </button>
                                <button class="quick-option" onclick="VERACore.showSection('chat')">
                                    <div class="option-neural glow-neural"></div>
                                    <span>Chat with VERA</span>
                                </button>
                                <button class="quick-option" onclick="VERACore.showSection('journal')">
                                    <div class="option-neural neural-journal"></div>
                                    <span>Neural Journal</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Other sections will be loaded here -->
                <section id="breathing-section" class="content-section" style="display: none;">
                    <div class="section-loading">
                        <div class="loading-neural"></div>
                        <p>Loading breathing exercises...</p>
                    </div>
                </section>

                <section id="grounding-section" class="content-section" style="display: none;">
                    <div class="section-loading">
                        <div class="loading-neural"></div>
                        <p>Loading grounding techniques...</p>
                    </div>
                </section>

                <section id="journal-section" class="content-section" style="display: none;">
                    <div class="section-loading">
                        <div class="loading-neural"></div>
                        <p>Loading your journal...</p>
                    </div>
                </section>

                <section id="chat-section" class="content-section" style="display: none;">
                    <div class="section-loading">
                        <div class="loading-neural"></div>
                        <p>Connecting to VERA...</p>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Upgrade Modal -->
    <div class="modal-overlay" id="upgradeModal" style="display: none;">
        <div class="upgrade-modal">
            <div class="modal-header">
                <h2>Continue Your Neural Journey</h2>
                <button class="modal-close" onclick="closeUpgradeModal()">
                    <div class="close-neural"></div>
                </button>
            </div>
            <div class="modal-content">
                <div class="upgrade-benefits">
                    <h3>VERA Explorer - $19/month</h3>
                    <ul class="benefits-list">
                        <li><div class="benefit-neural"></div> Unlimited VERA conversations</li>
                        <li><div class="benefit-neural"></div> Full regulation library access</li>
                        <li><div class="benefit-neural"></div> Advanced progress tracking</li>
                        <li><div class="benefit-neural"></div> Personalized nervous system insights</li>
                    </ul>
                </div>
                <button class="upgrade-confirm-btn" onclick="processUpgrade()">
                    <span>Start Explorer Plan</span>
                    <div class="confirm-neural"></div>
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/app-core.js"></script>
    <script src="js/neural-particles.js"></script>
    <script src="js/user-auth.js"></script>
    <script src="js/breathing-exercises.js"></script>
    <script src="js/grounding-techniques.js"></script>
    <script src="js/nervous-system-journal.js"></script>
    <script src="js/enhanced-chat.js"></script>
    <script src="js/personalized-dashboard.js"></script>
    <script src="js/trial-management.js"></script>
    <script src="js/presentation-demo.js"></script>
</body>
</html>